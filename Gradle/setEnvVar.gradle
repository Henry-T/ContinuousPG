
task setEnvVar(type:Exec) {
	commandLine 'cmd', '/c', 'setEnvVar.bat', "TestGradleSetEnv", "value of env var set by gradle"
}

// gradle -b setEnvVar.gradle passEnvVar -DTTTTT=ttttt
task passEnvVar(type:Exec) {
	// environment "AAAAA", "aaaaa"
	environment System.getProperties()   // to pass in TTTTT, this is must!
	// commandLine 'cmd', '/c', 'ruby', 'echoENV.rb'
	commandLine 'cmd', '/c', 'set'
}

// try this: gradle -b setEnvVar.gradle -DXXX=YYY
// will get XXX=YYY in output of child process
task passEnvVar_Java() {
	doLast {
		ProcessPassEnv.startProcessPassEnv()
	}
} 